- title "Settings"
- lim "900px"
- can_api = @user == current_user && @token = ApiToken.get_token(@user)
%section.page.full-width.properties.tab-set
	%ul.tab-set.tabs
		%li.button{@tab_selection_hash[:profile]}(data-target="profile") Profile
		%li.button{@tab_selection_hash[:account]}(data-target="account") Account
		- if can_api
			%li.button{@tab_selection_hash[:api]}(data-target="api") API *
		%li.button{@tab_selection_hash[:filter]}(data-target="filter") Content & Filter
		%li.button{@tab_selection_hash[:commenting]}(data-target="commenting") Notifications
		%li.button{@tab_selection_hash[:local]}(data-target="local") Local
	.tab{@tab_selection_hash[:profile]}(data-tab="profile")
		%h1 Profile Information
		= render 'users/edit', user: current_user, url: "/users/#{current_user.id}", method: :patch
	.tab{@tab_selection_hash[:account]}(data-tab="account")= render 'account'
	- if can_api
		.tab{@tab_selection_hash[:api]}(data-tab="api")= render 'api'
	.tab{@tab_selection_hash[:filter]}(data-tab="filter")= render 'videos/feeds/filter_settings'
	.tab{@tab_selection_hash[:commenting]}(data-tab="commenting")= render 'notifications'
	.tab{@tab_selection_hash[:local]}(data-tab="local")
		%h1 Local Settings
		%table
			%tr
				%td.label Notifications
				%td.field
					%label.button
						%input#give_me_notifications(name="give_me_notifications" type="checkbox")
						= fa :check
						Enable
			%tr
				%td.label Theme
				%td.field
					%label.options
						%span Theme
						%select#theme(name="theme")= sensible_option_for_select(themes, current_theme)
